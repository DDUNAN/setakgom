<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.mapper.ReviewMapper">
	<resultMap type="com.spring.setak.ReviewVO" id="reviewMap">
		<result property="review_num" column="review_num"/>
		<result property="member_id" column="member_id"/>
		<result property="review_kind" column="review_kind"/>
		<result property="review_star" column="review_star"/>
		<result property="review_content" column="review_content"/>
		<result property="review_like" column="review_like"/>
		<result property="review_photo" column="review_photo"/>
		<result property="review_date" column="review_date"/>		
	</resultMap>	
		
	<select id="getMaxNum" resultType="int">
		SELECT MAX(review_num) FROM review
	</select>
	
	<select id="getListCount" resultType="int"> 
		SELECT COUNT(*) FROM review
	</select>

	<select id="reviewList" parameterType="com.spring.setak.ReviewVO" resultMap="reviewMap">
		SELECT * FROM review  ORDER BY review_num desc       		
	</select>

	<insert id="reviewInsert" parameterType="com.spring.setak.ReviewVO">
		INSERT INTO review VALUES (#{review_num},#{member_id,},#{review_kind},#{review_star},
		#{review_content},#{review_like},#{review_photo, jdbcType=VARCHAR}, sysdate ) 
	</insert>
	<!-- 
	<select id="reviewList" parameterType="com.spring.setak.ReviewVO" resultMap="reviewMap">
		select * from review where #{review_content} like ('%', #{keyword}, '%') order by review_date desc    		
	</select>
	 -->
	
	

	<!--  
	관리자용 
	<delete id="reviewDelete" parameterType="int">
		DELETE FROM review WHERE review_num=#{review_num}
	</delete>
	
	<update id="reviewUpdate" parameterType="com.spring.setak.ReviewVO">
		UPDATE review SET 
		review_kind=#{review_kind}, 
		review_star=#{review_star}, 
		review_content=#{review_content}, 		
		review_photo=#{review_photo} 	
		WHERE review_num=#{review_num}
	</update>
 -->

</mapper>
























